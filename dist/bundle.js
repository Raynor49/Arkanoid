!function(t){var s={};function e(i){if(s[i])return s[i].exports;var l=s[i]={i:i,l:!1,exports:{}};return t[i].call(l.exports,l,l.exports,e),l.l=!0,l.exports}e.m=t,e.c=s,e.d=function(t,s,i){e.o(t,s)||Object.defineProperty(t,s,{configurable:!1,enumerable:!0,get:i})},e.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},e.n=function(t){var s=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(s,"a",s),s},e.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)},e.p="",e(e.s=0)}([function(t,s,e){"use strict";e.r(s);class i{constructor(t){this.pos=t.pos,this.vel=t.vel,this.rad=t.rad}draw(t){t.beginPath(),t.arc(this.pos[0],this.pos[1],this.rad,0,2*Math.PI,!1),t.fillStyle="white",t.fill(),t.closePath(),this.collisionWall()}collisionWall(){this.pos[0]>630?this.bounce("horizontal"):this.pos[0]<30&&this.bounce("horizontal"),this.pos[1]<30&&this.bounce("vertical")}bounce(t){"horizontal"===t?this.vel[0]=-this.vel[0]:this.vel[1]=-this.vel[1]}move(){this.pos[0]+=this.vel[0],this.pos[1]+=this.vel[1],this.speedUp()}speedUp(){this.vel[0]>0?this.vel[0]+=.001:this.vel[0]<0&&(this.vel[0]-=.001),this.vel[1]>0?this.vel[1]+=.001:this.vel[1]<0&&(this.vel[1]-=.001)}}class l{constructor(t,s){this.posX=t,this.width=s,this.stopIntervalIdsLeft=[],this.stopIntervalIdsRight=[]}createCircle(t,s,e,i,l){t.beginPath(),t.arc(s,670,8,i*Math.PI,l*Math.PI,!1),t.fillStyle=e,t.fill(),t.closePath()}draw(t){this.createCircle(t,this.posX,"yellow",.5,1.5),this.createCircle(t,this.posX+this.width,"yellow",1.5,2.5),t.fillRect(this.posX,662,this.width,16),t.fillStyle="yellow",t.strokeRect(this.posX,662,this.width,16),t.strokeStyle="black",this.collisionWall()}collisionWall(){if(this.posX+this.width>630){for(this.stopMove();this.posX+this.width>630;)this.posX--;this.leftMove()}else this.posX<30&&(this.stopMove(),this.posX=30,this.rightMove())}move(t){"left"===t?this.leftMove():"right"===t?this.rightMove():this.stopMove()}leftMove(){this.stopIntervalIdsRight.forEach(t=>{clearInterval(t)}),this.stopIntervalIdsRight=[],this.stopIntervalIdsLeft.push(setInterval(()=>this.posX-=1,10))}rightMove(){this.stopIntervalIdsLeft.forEach(t=>{clearInterval(t)}),this.stopIntervalIdsLeft=[],this.stopIntervalIdsRight.push(setInterval(()=>this.posX+=1,10))}stopMove(){this.stopIntervalIdsRight.forEach(t=>{clearInterval(t)}),this.stopIntervalIdsLeft.forEach(t=>{clearInterval(t)})}}document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("game-canvas").getContext("2d");new class{constructor(t,s){this.game=t,this.ctx=s,this.draw=this.draw.bind(this)}draw(){return this.game.draw(this.ctx)}bindKeyHandlers(){key("a",()=>{this.game.paddle.move("left")}),key("d",()=>{this.game.paddle.move("right")}),key("s",()=>{this.game.paddle.move("stop")})}start(){alert("Welcome to Arkanoid, you know how to play"),this.bindKeyHandlers(),setInterval(this.draw,10),setInterval(this.game.moveObjects,10)}}(new class{constructor(){this.ball=new i({pos:[330,335],vel:[-2,-1],rad:7}),this.lives=3,this.paddle=new l(130,100),this.moveObjects=this.moveObjects.bind(this)}draw(t){t.clearRect(0,0,658,700),this.paddle.draw(t),this.collisionPaddle(this.paddle.posX,this.paddle.posX+this.paddle.width,662),this.ball.draw(t),console.log(this.lives),this.loseLife(),this.lives<1&&this.loseGame()}collisionPaddle(t,s,e){this.ball.pos[1]>=e&&this.ball.pos[1]<=e+14&&this.ball.pos[0]>=t&&this.ball.pos[0]<=s&&this.ball.bounce("vertical")}loseLife(){this.ball.pos[1]>700&&(this.lives--,this.ball=new i({pos:[330,335],vel:[-2,-1],rad:7}))}loseGame(){alert("GameOver!"),this.ball=new i({pos:[330,335],vel:[-2,-1],rad:7}),this.lives=3}moveObjects(){this.ball.move()}},t).start()})}]);